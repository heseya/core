Cart:
  type: object
  properties:
    currency:
      type: string
      example: 'PLN'
    cart_total_initial:
      $ref: './Prices.yml#/PriceResource'
    cart_total:
      $ref: './Prices.yml#/PriceResource'
    shipping_price_initial:
      $ref: './Prices.yml#/PriceResource'
    shipping_price:
      $ref: './Prices.yml#/PriceResource'
    shipping_time:
      type: integer
      example: 5
    shipping_date:
      type: string
      format: date-time
      example: '2021-09-13T11:11'
    summary:
      $ref: './Prices.yml#/PriceResource'
    items:
      type: array
      items:
        $ref: '#/CartItemResponse'
    unavailable_items:
      type: array
      items:
        $ref: '#/CartUnavailableItemResponse'
    coupons:
      type: array
      items:
        $ref: '#/CouponShortResource'
    sales:
      type: array
      items:
        $ref: '#/SalesShortResource'

CartItemResponse:
  type: object
  properties:
    cartitem_id:
      type: string
      example: 1
    price:
      $ref: './Prices.yml#/PriceResource'
    price_discounted:
      $ref: './Prices.yml#/PriceResource'
    quantity:
      type: number
      example: 1

CartUnavailableItemResponse:
  type: object
  properties:
    cartitem_id:
      type: string
      example: 1
    quantity:
      type: number
      example: 1
    error:
      $ref: '#/CartItemErrorResponse'

CartItemErrorResponse:
  type: object
  properties:
    key:
      type: string
    message:
      type: string

SalesShortResource:
  type: object
  properties:
    id:
      type: string
      format: uuid,
    name:
      type: string
      example: 'Black Week'
    value:
      $ref: './Prices.yml#/PriceResource'

CouponShortResource:
  type: object
  allOf:
    - $ref: '#/SalesShortResource'
    - properties:
        code:
          type: string
          example: 'BLWEEK22'
